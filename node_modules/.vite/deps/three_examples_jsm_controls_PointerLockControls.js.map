{
  "version": 3,
  "sources": ["../../three/examples/jsm/controls/PointerLockControls.js"],
  "sourcesContent": ["import {\n\tEuler,\n\tEventDispatcher,\n\tVector3\n} from 'three';\n\nconst _euler = new Euler( 0, 0, 0, 'YXZ' );\nconst _vector = new Vector3();\n\nconst _changeEvent = { type: 'change' };\nconst _lockEvent = { type: 'lock' };\nconst _unlockEvent = { type: 'unlock' };\n\nconst _PI_2 = Math.PI / 2;\n\nclass PointerLockControls extends EventDispatcher {\n\n\tconstructor( camera, domElement ) {\n\n\t\tsuper();\n\n\t\tthis.domElement = domElement;\n\t\tthis.isLocked = false;\n\n\t\t// Set to constrain the pitch of the camera\n\t\t// Range is 0 to Math.PI radians\n\t\tthis.minPolarAngle = 0; // radians\n\t\tthis.maxPolarAngle = Math.PI; // radians\n\n\t\tthis.pointerSpeed = 1.0;\n\n\t\tconst scope = this;\n\n\t\tfunction onMouseMove( event ) {\n\n\t\t\tif ( scope.isLocked === false ) return;\n\n\t\t\tconst movementX = event.movementX || event.mozMovementX || event.webkitMovementX || 0;\n\t\t\tconst movementY = event.movementY || event.mozMovementY || event.webkitMovementY || 0;\n\n\t\t\t_euler.setFromQuaternion( camera.quaternion );\n\n\t\t\t_euler.y -= movementX * 0.002 * scope.pointerSpeed;\n\t\t\t_euler.x -= movementY * 0.002 * scope.pointerSpeed;\n\n\t\t\t_euler.x = Math.max( _PI_2 - scope.maxPolarAngle, Math.min( _PI_2 - scope.minPolarAngle, _euler.x ) );\n\n\t\t\tcamera.quaternion.setFromEuler( _euler );\n\n\t\t\tscope.dispatchEvent( _changeEvent );\n\n\t\t}\n\n\t\tfunction onPointerlockChange() {\n\n\t\t\tif ( scope.domElement.ownerDocument.pointerLockElement === scope.domElement ) {\n\n\t\t\t\tscope.dispatchEvent( _lockEvent );\n\n\t\t\t\tscope.isLocked = true;\n\n\t\t\t} else {\n\n\t\t\t\tscope.dispatchEvent( _unlockEvent );\n\n\t\t\t\tscope.isLocked = false;\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction onPointerlockError() {\n\n\t\t\tconsole.error( 'THREE.PointerLockControls: Unable to use Pointer Lock API' );\n\n\t\t}\n\n\t\tthis.connect = function () {\n\n\t\t\tscope.domElement.ownerDocument.addEventListener( 'mousemove', onMouseMove );\n\t\t\tscope.domElement.ownerDocument.addEventListener( 'pointerlockchange', onPointerlockChange );\n\t\t\tscope.domElement.ownerDocument.addEventListener( 'pointerlockerror', onPointerlockError );\n\n\t\t};\n\n\t\tthis.disconnect = function () {\n\n\t\t\tscope.domElement.ownerDocument.removeEventListener( 'mousemove', onMouseMove );\n\t\t\tscope.domElement.ownerDocument.removeEventListener( 'pointerlockchange', onPointerlockChange );\n\t\t\tscope.domElement.ownerDocument.removeEventListener( 'pointerlockerror', onPointerlockError );\n\n\t\t};\n\n\t\tthis.dispose = function () {\n\n\t\t\tthis.disconnect();\n\n\t\t};\n\n\t\tthis.getObject = function () { // retaining this method for backward compatibility\n\n\t\t\treturn camera;\n\n\t\t};\n\n\t\tthis.getDirection = function () {\n\n\t\t\tconst direction = new Vector3( 0, 0, - 1 );\n\n\t\t\treturn function ( v ) {\n\n\t\t\t\treturn v.copy( direction ).applyQuaternion( camera.quaternion );\n\n\t\t\t};\n\n\t\t}();\n\n\t\tthis.moveForward = function ( distance ) {\n\n\t\t\t// move forward parallel to the xz-plane\n\t\t\t// assumes camera.up is y-up\n\n\t\t\t_vector.setFromMatrixColumn( camera.matrix, 0 );\n\n\t\t\t_vector.crossVectors( camera.up, _vector );\n\n\t\t\tcamera.position.addScaledVector( _vector, distance );\n\n\t\t};\n\n\t\tthis.moveRight = function ( distance ) {\n\n\t\t\t_vector.setFromMatrixColumn( camera.matrix, 0 );\n\n\t\t\tcamera.position.addScaledVector( _vector, distance );\n\n\t\t};\n\n\t\tthis.lock = function () {\n\n\t\t\tthis.domElement.requestPointerLock();\n\n\t\t};\n\n\t\tthis.unlock = function () {\n\n\t\t\tscope.domElement.ownerDocument.exitPointerLock();\n\n\t\t};\n\n\t\tthis.connect();\n\n\t}\n\n}\n\nexport { PointerLockControls };\n"],
  "mappings": ";;;;;;;AAMA,IAAM,SAAS,IAAI,MAAO,GAAG,GAAG,GAAG,KAAM;AACzC,IAAM,UAAU,IAAI,QAAQ;AAE5B,IAAM,eAAe,EAAE,MAAM,SAAS;AACtC,IAAM,aAAa,EAAE,MAAM,OAAO;AAClC,IAAM,eAAe,EAAE,MAAM,SAAS;AAEtC,IAAM,QAAQ,KAAK,KAAK;AAExB,IAAM,sBAAN,cAAkC,gBAAgB;AAAA,EAEjD,YAAa,QAAQ,YAAa;AAEjC,UAAM;AAEN,SAAK,aAAa;AAClB,SAAK,WAAW;AAIhB,SAAK,gBAAgB;AACrB,SAAK,gBAAgB,KAAK;AAE1B,SAAK,eAAe;AAEpB,UAAM,QAAQ;AAEd,aAAS,YAAa,OAAQ;AAE7B,UAAK,MAAM,aAAa;AAAQ;AAEhC,YAAM,YAAY,MAAM,aAAa,MAAM,gBAAgB,MAAM,mBAAmB;AACpF,YAAM,YAAY,MAAM,aAAa,MAAM,gBAAgB,MAAM,mBAAmB;AAEpF,aAAO,kBAAmB,OAAO,UAAW;AAE5C,aAAO,KAAK,YAAY,OAAQ,MAAM;AACtC,aAAO,KAAK,YAAY,OAAQ,MAAM;AAEtC,aAAO,IAAI,KAAK,IAAK,QAAQ,MAAM,eAAe,KAAK,IAAK,QAAQ,MAAM,eAAe,OAAO,CAAE,CAAE;AAEpG,aAAO,WAAW,aAAc,MAAO;AAEvC,YAAM,cAAe,YAAa;AAAA,IAEnC;AAEA,aAAS,sBAAsB;AAE9B,UAAK,MAAM,WAAW,cAAc,uBAAuB,MAAM,YAAa;AAE7E,cAAM,cAAe,UAAW;AAEhC,cAAM,WAAW;AAAA,MAElB,OAAO;AAEN,cAAM,cAAe,YAAa;AAElC,cAAM,WAAW;AAAA,MAElB;AAAA,IAED;AAEA,aAAS,qBAAqB;AAE7B,cAAQ,MAAO,2DAA4D;AAAA,IAE5E;AAEA,SAAK,UAAU,WAAY;AAE1B,YAAM,WAAW,cAAc,iBAAkB,aAAa,WAAY;AAC1E,YAAM,WAAW,cAAc,iBAAkB,qBAAqB,mBAAoB;AAC1F,YAAM,WAAW,cAAc,iBAAkB,oBAAoB,kBAAmB;AAAA,IAEzF;AAEA,SAAK,aAAa,WAAY;AAE7B,YAAM,WAAW,cAAc,oBAAqB,aAAa,WAAY;AAC7E,YAAM,WAAW,cAAc,oBAAqB,qBAAqB,mBAAoB;AAC7F,YAAM,WAAW,cAAc,oBAAqB,oBAAoB,kBAAmB;AAAA,IAE5F;AAEA,SAAK,UAAU,WAAY;AAE1B,WAAK,WAAW;AAAA,IAEjB;AAEA,SAAK,YAAY,WAAY;AAE5B,aAAO;AAAA,IAER;AAEA,SAAK,eAAe,WAAY;AAE/B,YAAM,YAAY,IAAI,QAAS,GAAG,GAAG,EAAI;AAEzC,aAAO,SAAW,GAAI;AAErB,eAAO,EAAE,KAAM,SAAU,EAAE,gBAAiB,OAAO,UAAW;AAAA,MAE/D;AAAA,IAED,EAAE;AAEF,SAAK,cAAc,SAAW,UAAW;AAKxC,cAAQ,oBAAqB,OAAO,QAAQ,CAAE;AAE9C,cAAQ,aAAc,OAAO,IAAI,OAAQ;AAEzC,aAAO,SAAS,gBAAiB,SAAS,QAAS;AAAA,IAEpD;AAEA,SAAK,YAAY,SAAW,UAAW;AAEtC,cAAQ,oBAAqB,OAAO,QAAQ,CAAE;AAE9C,aAAO,SAAS,gBAAiB,SAAS,QAAS;AAAA,IAEpD;AAEA,SAAK,OAAO,WAAY;AAEvB,WAAK,WAAW,mBAAmB;AAAA,IAEpC;AAEA,SAAK,SAAS,WAAY;AAEzB,YAAM,WAAW,cAAc,gBAAgB;AAAA,IAEhD;AAEA,SAAK,QAAQ;AAAA,EAEd;AAED;",
  "names": []
}
